<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CR0WN — 0teazy</title>
  <link rel="icon" type="image/png" href="CR0WN.jpg">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Keep markup mostly unchanged so your CSS keeps working -->
  <div class="album-container" role="main" aria-label="CR0WN album by 0teazy">
    <div class="album-header">
      <img src="CR0WN.jpg" alt="CR0WN album art" class="album-art" id="pageArt">
      <div class="album-details">
        <div style="display:flex;align-items:center;gap:12px">
          <div>
            <h1 class="album-title">CR0WN</h1>
            <h2 class="album-artist">0teazy</h2>
            <p class="album-release">Released: 2025 • Amagemors • Full Album</p>
          </div>

          <div class="top-actions" aria-hidden="false">
            <div class="share-pill" id="topShare" role="button" tabindex="0" title="Share album">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a2.5 2.5 0 0 0 0-1.39l7.05-4.11A2.5 2.5 0 1 0 14 5a2.5 2.5 0 0 0 .04.44L7 9.55a2.5 2.5 0 1 0 0 4.9l7.04 4.12a2.5 2.5 0 1 0 3.96-1.49z"/></svg>
              <span style="font-size:13px">Share</span>
            </div>
          </div>
        </div>

        <div class="meta-row">
          <div class="badge">Full Album • 7 tracks</div>
          <div class="badge">2025</div>
          <div class="badge">Amagemors</div>
        </div>
      </div>
    </div>

    <div class="track-section">
      <ul class="track-list" id="trackList" aria-label="Track list">
        <!-- track items will be rendered by player.js -->
      </ul>

      <div class="player-col" aria-hidden="false">
        <div class="player-card" aria-label="Player card">
            <div id="scrubPreview" class="scrub-preview" aria-hidden="true"></div>

          <div class="player-top">
            <img src="CR0WN.jpg" alt="Now playing art" class="player-art" id="playerArt">
            <div class="player-info">
              <p class="player-title" id="playerTitle">—</p>
              <p class="player-artist" id="playerArtist">0teazy</p>
              <div style="margin-top:8px;display:flex;align-items:center;gap:10px">
                <div class="visualizer" id="visualizer" aria-hidden="true"></div>
                <div style="font-size:12px;color:var(--muted)"><em>Live</em></div>
              </div>
            </div>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div class="controls" role="group" aria-label="Playback controls">
              <!-- shuffle injected by UI -->
              <button class="player-button prev" id="prevBtn" aria-label="Previous Track" title="Prev (←)"><svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><polygon points="16,18 8,12 16,6"/></svg></button>

              <button class="player-button play-pause" id="playPauseBtn" aria-label="Play/Pause (space)" title="Play / Pause (Space)">
                <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
                  <polygon class="icon-play" points="8,5 8,19 19,12"/>
                  <g class="icon-pause" style="display:none;">
                    <rect x="6" y="5" width="4" height="14"/>
                    <rect x="14" y="5" width="4" height="14"/>
                  </g>
                </svg>
              </button>

              <button class="player-button next" id="nextBtn" aria-label="Next Track" title="Next (→)"><svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><polygon points="8,6 16,12 8,18"/></svg></button>

              <button class="player-button" id="shareBtn" aria-label="Share Track" title="Share">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a2.5 2.5 0 0 0 0-1.39l7.05-4.11A2.5 2.5 0 1 0 14 5a2.5 2.5 0 0 0 .04.44L7 9.55a2.5 2.5 0 1 0 0 4.9l7.04 4.12a2.5 2.5 0 1 0 3.96-1.49z"/></svg>
              </button>
            </div>

            <div style="min-width:140px;">
              <div style="font-size:12px;color:var(--muted);text-align:right"></div>
              <div style="font-weight:700;text-align:right"></div>
            </div>
          </div>

          <div class="seek-wrap">
            <input type="range" id="seekBar" value="0" min="0" max="100" aria-label="Seek">
            <div class="player-time"><span id="currentTime">0:00</span><span id="totalTime">0:00</span></div>
          </div>

          <div style="display:flex;gap:8px;align-items:center;margin-top:4px">
            <button id="lyricsToggle" class="player-button" aria-expanded="false">Lyrics / Story</button>
            <a id="downloadLink" class="player-button" style="margin-left:auto;font-size:13px;text-decoration:none;color:var(--accent)">Download</a>
          </div>

          <div class="lyrics" id="lyricsBox">
            <strong>Lyrics / Story</strong>
            <p style="margin:8px 0 0 0">This section will show synced lyrics (if available) or static lyrics provided in `data-lyrics`.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="global-player hidden" id="globalPlayer" role="region" aria-label="Global player">
    <div class="player-left" style="display:flex;align-items:center;gap:10px">
      <img src="CR0WN.jpg" alt="Playing art" class="player-art" id="playerArtMini">
      <div class="player-info">
        <p class="player-title" id="playerTitleMini">—</p>
        <p class="player-artist" id="playerArtistMini">0teazy</p>
      </div>
    </div>

    <div class="player-controls" style="display:flex;align-items:center;gap:10px">
      <button class="player-button prev" id="prevBtnMini" aria-label="Previous"><svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><polygon points="16,18 8,12 16,6"/></svg></button>
      <button class="player-button play-pause" id="playPauseBtnMini" aria-label="Play/Pause"><svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor"><polygon class="icon-play" points="8,5 8,19 19,12"/><g class="icon-pause" style="display:none;"><rect x="6" y="5" width="4" height="14"/><rect x="14" y="5" width="4" height="14"/></g></svg></button>
      <button class="player-button next" id="nextBtnMini" aria-label="Next"><svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><polygon points="8,6 16,12 8,18"/></svg></button>
    </div>

    <div style="flex:1;margin-left:12px">
      <input type="range" id="seekBarMini" value="0" min="0" max="100" aria-label="Seek mini">
      <div class="player-time"><span id="currentTimeMini">0:00</span><span id="totalTimeMini">0:00</span></div>
    </div>
  </div>

  <!-- preview panel -->
  <div id="previewPanel" class="preview-overlay" aria-hidden="true">
    <div class="preview-box" role="dialog" aria-modal="true">
      <img id="previewArt" src="CR0WN.jpg" alt="Preview art">
      <div class="preview-info">
        <h3 id="previewTitle"></h3>
        <p id="previewArtist"></p>
      </div>
      <audio id="previewAudio" preload="metadata"></audio>
      <div style="display:flex;gap:10px;justify-content:center;margin-top:12px">
        <button id="previewPlay" class="player-button">Play</button>
        <button id="previewOpen" class="player-button">Open Full Player</button>
      </div>
    </div>
  </div>

  <audio id="audioFallback" class="hidden" preload="metadata" controlslist="nodownload"></audio>

  <!-- core scripts; modularized -->
  <script type="module" src="player.js"></script>
</body>
</html>
